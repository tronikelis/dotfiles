#!/bin/bash

function emojis() {
	curl -s -L 'https://cdn.jsdelivr.net/npm/emojibase-data@latest/en/compact.json' |
		jq -r '.[] | [.unicode, .label, (select(.tags != null) | .tags | join(" "))] | @sh' |
		tr -d \'
}

if [[ $# == 0 ]]; then
	emojis | fzf --tmux | awk '{print $1}'
elif [[ $# == 1 ]]; then
	emojis | grep -i --color=never "$@" | awk '{print $1}'
else
    echo "provide 0/1 arguments" >&2
	exit 1
fi
