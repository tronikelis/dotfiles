#!/bin/bash

function emojis() {
	curl -s -L 'https://cdn.jsdelivr.net/npm/emojibase-data@latest/en/compact.json' |
		jq -r '.[] | [.unicode, .label, (select(.tags != null) | .tags | join(" "))] | @sh' |
		tr -d \'
}

if [[ $# == 0 ]]; then
	emojis | fzf --multi --tmux | awk '{print $1}'
else
	emojis | grep -i --color=never "$*" | awk '{print $1}'
fi
